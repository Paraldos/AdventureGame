[gd_scene load_steps=6 format=3 uid="uid://j3eaeq126b3d"]

[ext_resource type="Script" uid="uid://3vcc6vsw433v" path="res://dialog_manager/dialog_manager.gd" id="1_jch72"]
[ext_resource type="Script" uid="uid://vqv617lov561" path="res://dialog_manager/resources/dialog.gd" id="2_1ku4q"]
[ext_resource type="PackedScene" uid="uid://bgr7yd4sct3b7" path="res://npcs/bug.tscn" id="3_65if4"]
[ext_resource type="Script" uid="uid://c4papynmlhc0q" path="res://dialog_manager/resources/dialog_option.gd" id="4_m5bya"]

[sub_resource type="Resource" id="Resource_cbvse"]
script = ExtResource("4_m5bya")
text = "Okay, let's do this."
start_recruting = true
open_quest = "Recruite3Mercs"
metadata/_custom_type_script = "uid://c4papynmlhc0q"

[node name="DialogManager" type="CanvasLayer"]
script = ExtResource("1_jch72")

[node name="BackgroundBtn" type="Button" parent="."]
unique_name_in_owner = true
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
flat = true

[node name="Test" type="Node" parent="."]

[node name="Start" type="Node" parent="Test"]
script = ExtResource("2_1ku4q")
text = "Hey, kid. You look fresh off the shuttle. Lucky for you, I know how things work around here."
location = "TestArea"
target_id = "Test/Start2"
speaker = 3
add_npc = ExtResource("3_65if4")
metadata/_custom_type_script = "uid://vqv617lov561"

[node name="Start2" type="Node" parent="Test"]
script = ExtResource("2_1ku4q")
text = "Rule number one: never walk alone. Get yourself a crew. A few mercs who can handle the dirt."
target_id = "Test/Start3"
speaker = 3
metadata/_custom_type_script = "uid://vqv617lov561"

[node name="Start3" type="Node" parent="Test"]
script = ExtResource("2_1ku4q")
text = "Shouldn’t be hard. This city’s crawling with people desperate to take any gig."
options = Array[ExtResource("4_m5bya")]([SubResource("Resource_cbvse")])
speaker = 3
metadata/_custom_type_script = "uid://vqv617lov561"

[connection signal="pressed" from="BackgroundBtn" to="." method="_on_background_btn_pressed"]
