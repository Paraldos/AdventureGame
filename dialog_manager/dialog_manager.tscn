[gd_scene load_steps=4 format=3 uid="uid://j3eaeq126b3d"]

[ext_resource type="Script" uid="uid://3vcc6vsw433v" path="res://dialog_manager/dialog_manager.gd" id="1_jch72"]
[ext_resource type="Script" uid="uid://vqv617lov561" path="res://dialog_manager/resources/dialog.gd" id="2_1ku4q"]
[ext_resource type="PackedScene" uid="uid://bgr7yd4sct3b7" path="res://npcs/bug.tscn" id="3_65if4"]

[node name="DialogManager" type="CanvasLayer"]
script = ExtResource("1_jch72")

[node name="BackgroundBtn" type="Button" parent="."]
unique_name_in_owner = true
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
flat = true

[node name="Tutorial" type="Node" parent="."]

[node name="Start" type="Node" parent="Tutorial"]
script = ExtResource("2_1ku4q")
text = "Hey, kid. You look fresh off the shuttle. Lucky for you, I know how things work around here."
location = "TestArea"
target_id = "Tutorial/Start2"
speaker = 3
add_npc = ExtResource("3_65if4")
metadata/_custom_type_script = "uid://vqv617lov561"

[node name="Start2" type="Node" parent="Tutorial"]
script = ExtResource("2_1ku4q")
text = "Rule number one: never walk alone. Get yourself a crew. A few mercs who can handle the dirt."
target_id = "Tutorial/Start3"
speaker = 3
metadata/_custom_type_script = "uid://vqv617lov561"

[node name="Start3" type="Node" parent="Tutorial"]
script = ExtResource("2_1ku4q")
text = "Shouldn’t be hard. This city’s crawling with people desperate to take any gig."
start_recruting = true
start_quest = "Recruite3Mercs"
speaker = 3
metadata/_custom_type_script = "uid://vqv617lov561"

[node name="Start4" type="Node" parent="Tutorial"]
script = ExtResource("2_1ku4q")
text = "Well done, kid. With those mercs, you should be fine for now."
location = "TestArea"
speaker = 3
add_npc = ExtResource("3_65if4")
metadata/_custom_type_script = "uid://vqv617lov561"

[node name="Start5" type="Node" parent="Tutorial"]
script = ExtResource("2_1ku4q")
text = "But let’s see what they can really do. I’ve got a batch of training drones lying around. Give me a sec, and I’ll set them up."
location = "TestArea"
speaker = 3
add_npc = ExtResource("3_65if4")
metadata/_custom_type_script = "uid://vqv617lov561"

[connection signal="pressed" from="BackgroundBtn" to="." method="_on_background_btn_pressed"]
